(this.webpackJsonpnews_upload=this.webpackJsonpnews_upload||[]).push([[0],{25:function(e,t,a){},26:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(2),c=a.n(n),r=a(19),i=a.n(r),l=(a(25),a(26),function(){return Object(s.jsx)("footer",{children:Object(s.jsxs)("div",{className:"footer",children:[Object(s.jsx)("div",{className:"footer-logo",children:"The E-Guardians"}),Object(s.jsx)("div",{className:"footer-list"})]})})}),o=localStorage.getItem("tokenInternTheEGuardians"),d=localStorage.getItem("nameInternTheEGuardians"),j=function(){return Object(s.jsx)("header",{children:Object(s.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary",children:[Object(s.jsx)("a",{className:"navbar-brand",href:"/",children:"The E-Guardians"}),Object(s.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(s.jsx)("span",{className:"navbar-toggler-icon"})}),Object(s.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(s.jsxs)("ul",{className:"navbar-nav",children:[Object(s.jsx)("li",{className:"nav-item active",children:Object(s.jsxs)("a",{className:"nav-link",href:"/",children:["Home ",Object(s.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)("a",{className:"nav-link",href:"#",children:"About us"})}),o&&Object(s.jsx)("li",{className:"nav-item",onClick:function(){var e;e=function(){return window.location.reload()},localStorage.removeItem("tokenInternTheEGuardians"),localStorage.removeItem("nameInternTheEGuardians"),e()},children:Object(s.jsx)("a",{className:"nav-link",href:"#",children:"Logout"})})]})})]})})},h=function(e){var t=e.children;return Object(s.jsxs)("section",{children:[Object(s.jsx)(j,{}),t,Object(s.jsx)(l,{})]})},b=a(5),u=a(6),m=a(8),x=a(7),p="https://pandey-task-manager-api.herokuapp.com",O=a(3),v=a.n(O),g=function(e){Object(m.a)(a,e);var t=Object(x.a)(a);function a(e){var s;return Object(b.a)(this,a),(s=t.call(this,e)).handleSubmit=function(){document.getElementById("test").style.visibility="hidden",s.setState({isLoading:!0}),v.a.post("".concat(p,"/users/login/"),{email:s.state.email,password:s.state.password}).then((function(e){if(console.log(e),localStorage.setItem("tokenInternTheEGuardians",e.data.token),localStorage.setItem("nameInternTheEGuardians",e.data.user.name),200===e.status){var t=e.data.user.name;s.setState({name:t,isLoading:!1,isAuthenticated:!0})}else console.log("Failed login")})).then((function(){window.location.reload()})).catch((function(e){if(!e.message)return"";document.getElementById("test").style.visibility="visible",console.log("Login Failed"),s.setState({isLoading:!1})}))},s.state={email:"",password:"",name:"",isAuthenticated:!1,isLoading:!1},s}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"upload-form",children:[Object(s.jsx)("h3",{className:"section-title",children:"Login"}),Object(s.jsxs)("p",{children:[Object(s.jsx)("span",{style:{color:"red"},children:"*"})," Email : ",this.state.email]}),Object(s.jsx)("input",{type:"email",value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})}}),Object(s.jsxs)("p",{children:[Object(s.jsx)("span",{style:{color:"red"},children:"*"})," Password : "]}),Object(s.jsx)("input",{type:"password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}}),Object(s.jsxs)("p",{children:[Object(s.jsx)("span",{style:{color:"red"},children:"*"})," Required fields must be filled"]}),Object(s.jsx)("p",{children:this.state.isLoading?"Please Wait":""}),Object(s.jsx)("nav",{id:"test",onClick:this.handleSubmit,children:Object(s.jsx)("ul",{children:Object(s.jsxs)("li",{children:["Login",Object(s.jsx)("span",{}),Object(s.jsx)("span",{}),Object(s.jsx)("span",{}),Object(s.jsx)("span",{})]})})})]})})}}]),a}(c.a.Component),f=a(4),N=a.n(f),y=a(10),w=a.p+"static/media/upload.5a212bfa.png",k=function(e){Object(m.a)(a,e);var t=Object(x.a)(a);function a(e){var s;return Object(b.a)(this,a),(s=t.call(this,e)).setData=function(){var e=s.state.data.filter((function(e){return!0===e.active}));s.setState({activeTask:e})},s.handleUpload=function(){v.a.post("".concat(p,"/tasks"),{desc:s.state.news,completed:!1},{headers:{Authorization:"Bearer "+o}}).then((function(e){console.log(e),alert("Hurray!!News has been uploaded successfully.Your News will be verified soon")})).then((function(){return s.setState({news:""})})).catch((function(e){return console.log(e.message)}))},s.uploadImage=function(e){var t=Array.from(e.target.files),a=new FormData;t.forEach((function(e,t){a.append(t,e)})),fetch("".concat(p,"/users/me/avatar"),{method:"POST",headers:{Authorization:"Bearer "+o},body:a}).then((function(e){return e.json()})).then((function(e){s.setState({profileImage:e})})).catch((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},s.state={news:"",completed:0,pending:0,data:[],activeTask:[],profileImage:[]},s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(y.a)(N.a.mark((function e(){var t=this;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://api.jsonbin.io/b/5fa06e8447077d298f5bdbdc/latest").then(function(){var e=Object(y.a)(N.a.mark((function e(a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({data:a.data});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log("Error from Card ",e)}));case 2:this.setData();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=d;return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"",children:[Object(s.jsx)("h3",{className:"section-title",style:{textAlign:"center"},children:"Upload News"}),Object(s.jsx)("div",{className:"container",style:{},children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{style:{borderStyle:"solid",paddingTop:50,textAlign:"center"},className:"col-md-3",children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-12",children:Object(s.jsx)("img",{src:"https://image.shutterstock.com/image-vector/vector-design-avatar-dummy-sign-600w-1290556063.jpg",style:{width:200,height:200,borderRadius:"50%",borderStyle:"solid"},alt:""})}),Object(s.jsx)("div",{className:"col-12",children:Object(s.jsx)("div",{style:{marginLeft:60,marginTop:-30},className:"col",children:Object(s.jsx)("button",{type:"file",onChange:this.uploadImage,style:{borderRadius:50,height:60,width:60},children:Object(s.jsx)("img",{src:w,style:{height:45,width:45,borderRadius:50},alt:""})})})})]}),Object(s.jsxs)("div",{style:{marginTop:15},children:[Object(s.jsxs)("p",{children:["Name of Intern : ",t]}),Object(s.jsx)("div",{style:{textAlign:"center"},children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col",children:"0"}),Object(s.jsx)("div",{className:"col",children:"0"})]})}),Object(s.jsx)("div",{style:{textAlign:"center"},children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col",children:"Completed"}),Object(s.jsx)("div",{className:"col",children:"Pending"})]})}),this.state.activeTask.map((function(e){return Object(s.jsxs)("div",{className:"card text-white bg-primary mb-3",style:{marginTop:30},children:[Object(s.jsx)("div",{className:"card-header",children:"Your Current Task"}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h4",{className:"card-title",children:e.Heading}),Object(s.jsx)("p",{className:"card-text",children:e.Desc})]})]})}))]})]}),Object(s.jsxs)("div",{style:{borderStyle:"solid",paddingTop:50,textAlign:"center"},className:"col-md-6",children:[Object(s.jsx)("b",{children:Object(s.jsxs)("p",{children:[Object(s.jsx)("span",{style:{color:"red"},children:"*"})," Enter News below  :- "]})}),Object(s.jsx)("textarea",{rows:"10",placeholder:"Enter News Here",defaultValue:"",value:this.state.news,onChange:function(t){return e.setState({news:t.target.value})}}),Object(s.jsxs)("p",{children:[Object(s.jsx)("span",{style:{color:"red"},children:"*"})," Required fields must be filled"]}),Object(s.jsx)("nav",{id:"test",onClick:this.handleUpload,children:Object(s.jsx)("ul",{children:Object(s.jsxs)("li",{children:["Upload",Object(s.jsx)("span",{}),Object(s.jsx)("span",{}),Object(s.jsx)("span",{}),Object(s.jsx)("span",{})]})})})]}),Object(s.jsxs)("div",{style:{borderStyle:"solid",paddingTop:50,textAlign:"center"},className:"col-md-3",children:[Object(s.jsx)("h3",{children:this.state.data.length?"Your Last Three Accepted News":"No News has been Uploaded Yet."}),this.state.data.filter((function(e){return!0!==e.active})).slice(0,3).map((function(e){return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"card text-white bg-primary mb-3",style:{marginTop:30},children:[Object(s.jsx)("div",{className:"card-header",children:e.name}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h4",{className:"card-title",children:e.Heading}),Object(s.jsx)("p",{className:"card-text",children:e.Desc})]})]})})}))]})]})})]})})}}]),a}(c.a.Component),S=function(){var e=o;return Object(s.jsxs)("div",{style:{marginTop:50,marginBottom:50},children:[e&&Object(s.jsx)(k,{}),!e&&Object(s.jsx)(g,{})]})};var T=function(){return Object(s.jsx)(h,{children:Object(s.jsx)(S,{})})},I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,46)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),c(e),r(e)}))};i.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(T,{})}),document.getElementById("root")),I()}},[[45,1,2]]]);
//# sourceMappingURL=main.9da6745a.chunk.js.map